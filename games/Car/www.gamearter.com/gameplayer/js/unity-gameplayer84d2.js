"use strict";function GarterO(){this.activeGamePage=!0,this.debugMode=!0,this.gameLoaded=!1,this.serverConnAddress="https://api.gamearter.com/game/",this.asyncPreload={providers:[]},this.playground="web",this.isMobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),this.loadLibrary("link","playerStyle","/gameplayer/css/"+(this.isMobile?"mobile":"desktop")+".css")}function GarterCore(){}function GarterLogin(){}function GarterAds(e,t,r,a){var o=r;try{o=document.location.href}catch(e){window.console.error("[GameArter] err:",e)}this.gameUrl=r;var n,i,s=(i=o,(-1!==(n=a).indexOf("pacogames.com")||-1!==n.indexOf("games44.com")||-1!==n.indexOf("gamearter.com"))&&(!(-1<i.indexOf("?pub=1"))||!(Garter.debugMode=!0)));this.goldPartner=s;var d,l,r=(new Date).getTime();this.launchTime=r,this.preroll=(d=e.preroll,l=o,s?-1<l.indexOf("?pr=")?-1<l.indexOf("?pr=1")?1:0:-1<l.indexOf("?key=")?0:d:d),this.midroll={e:0<e.enabled,p:c(e.mProviders,!1),m:e.mMeantime,d:e.maxDuration,lt:1===e.enabled?0:r,adsense:{client:t.client,channel:""!==t.channel?t.channel:null}},null===this.midroll.adsense.channel&&-1!==this.midroll.p.indexOf(1)&&this.midroll.p.splice(this.midroll.p.indexOf(1),1),this.rewarded={p:c(e.rProviders,!0),m:e.rMeantime,r:null,i:!1,to:null},this.affiliate={id:e.affiliateId,enabled:!1},this.state=null,this.killProcessorProcess=!1;try{void 0!==Garter.fbl&&Garter.fbl.initAdLibraries(this.midroll.m,this.rewarded.p)}catch(e){window.console.error(e)}function c(e,t){var r=[];if(null!==e){if("string"==typeof e)for(var a=e.split(","),o=0;o<a.length;o++)r.push(Number(a[o]));else"number"==typeof e&&r.push(e);0<r.length&&(-1!==(e=r.indexOf(23))&&(-1===["US","GB","CA","AUS"].indexOf(Garter.userData.country)&&r.splice(e,1)),-1!==(e=r.indexOf(3))&&r.splice(e,1),13===r[0]&&(r=[]))}else s||t||r.push(24);return 0<r.length?r:[]}1===this.preroll&&(Garter.asyncPreload.providers=null!==this.midroll.p?this.midroll.p:[])}function GarterServer(){}function GarterModuleConn(){}function GarterUnityGame(){this.loaded=!1}function GarterProfile(){}function GarterGui(){}function GarterSharing(){}function GarterAnalytics(){}function GarterFullscreen(){}function GarterDemoVersion(){}function PWA_SW(){this.state="disabled",this.deferredPrompt=null}function Gazerion(){}function Gfacebook(){}GarterAds.prototype.getAffiliateId=function(){return Garter.ads.affiliate.id},GarterModuleConn.prototype.postMessages=function(e){"https://www.pacogames.com"===e.origin?"go-fullscreen"===e.data?(window.console.log("go fullscreen"),(new GarterFullscreen).set()):e.data.ad&&Garter.ads.request(1,e.data.adp):"https://st.wgplayer.com"===e.origin&&"initialized"===e.msg&&window.console.log("weego ads preroll ready to use.")},GarterProfile.prototype.open=function(e,t){Garter.debugMode&&window.console.log("GarterProfileOpen | ",e,t);var r,a=document.getElementById("#profile");Garter.isLogged()?(e&&Garter.gui.working("open"),0===a.children.length?(r=Garter.gui.createModuleIframe(a)).onload=function(){Garter.gui.displayModule("#profile",!1,a),Garter.gui.working("close"),setTimeout(function(){try{r.contentWindow.updateProfile(t)}catch(e){window.console.error(e)}},500)}:(a.children[0].contentWindow.updateProfile(t),Garter.gui.displayModule("#profile",!1,a),Garter.gui.working("close"))):(e||Garter.gui.working("close"),Garter.gui.displayModule("#profile",!1,a))},GarterO.prototype.preLoad=function(e){window.console.log("preload (v 29.05.21)",e);var t,r,a=""===Garter.topUrl||0===Garter.runMode;function o(){var e=document.getElementsByTagName("body")[0],t=document.createElement("div");t.setAttribute("id","ga_press_to_play_screen"),t.setAttribute("style","display:block;position:absolute;height:90%;width:90%;top:5%;left:5%;background-color:rgba(0, 0, 0, 0.63);z-index:39;cursor:pointer"),t.setAttribute("onclick","Garter.preLoad(1)"),t.innerHTML='<div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"><img src="https://data.pacogames.com/gameplayer/img/play-button.png"><p style="font-size: 20px; color: white;">Click to <span style="color: #ebba16;">play the game</span></p></div>',e.appendChild(t)}void 0!==e&&(1===e?this.asyncPreload.interactionRequired=!1:"err-click-area"===e?this.asyncPreload.providers.splice(0,1):(this.asyncPreload.interactionRequired=e.interactionRequired,this.asyncPreload.loaderVer=e.loaderVer,this.asyncPreload.loaderUrl=e.loaderUrl,!e.weegoLoaded&&void 0!==this.asyncPreload.providers&&-1<this.asyncPreload.providers.indexOf(27)&&this.asyncPreload.providers.splice(this.asyncPreload.providers.indexOf(27),1))),a?(t=document.createElement("div"),r='Owner of this website is illegally enriching at the expense of <a href="https://www.pacogames.com/" target="_blank">game developer</a>.',0!==Garter.runMode&&(r+="<br>The game will be automatically unlocked after removing sandbox attribute."),t.setAttribute("class","b-unavailable b-unavailable--demo"),t.innerHTML='<div class="b-unavailable__wrap"><div class="b-unavailable__text"><h2 class="b-unavailable__title">Game is blocked for this website.</h2><p class="b-unavailable__desc">'+r+'</p><h3 style="user-select:text">www.pacogames.com</h3><input type="text" class="b-unavailable__btn" style="width:100%" value="'+document.location.href+'"></div></div>',document.getElementById("main").appendChild(t)):(window.console.log("asyncPreload",this.asyncPreload,"ads: ",this.ads),1===this.ads.preroll&&0<this.asyncPreload.providers.length&&!this.ads.adBlock?this.asyncPreload.interactionRequired&&27!==this.asyncPreload.providers[0]?o():this.ads.request(5,this.asyncPreload.providers[0]):this.asyncPreload.interactionRequired&&-1!==window.navigator.userAgent.toLowerCase().indexOf("chrome/")?o():this.launchGame())},GarterO.prototype.launchGame=function(){try{new AudioContext}catch(e){window.console.log(e)}56===this.asyncPreload.loaderVer?(window.console.log("-- → launchGame -- (>v56)"),gameInstance=UnityLoader.instantiate("ga_game",this.asyncPreload.loaderUrl,{onProgress:this.gui.unity56loader})):this.asyncPreload.loaderVer<56?(window.console.log("-- → launchGame -- (<v56)"),this.loadLibrary("js","gameLoadSrc",this.asyncPreload.loaderUrl)):(window.console.log("-- → launchGame -- (v2020)"),this.loadLibrary("js","gameLoadSrc",this.asyncPreload.loaderUrl,this.gui.unity2020loader));var e=document.getElementById("ga_press_to_play_screen");null!==e&&document.getElementsByTagName("body")[0].removeChild(e),delete this.asyncPreload},GarterO.prototype.loadLibrary=function(e,t,r,a){console.log("LOAD LIB | ",e,t,r),void 0===this.loadedLibraries&&(this.loadedLibraries={}),void 0===this.loadedLibraries[t]&&(this.loadedLibraries[t]=!0,t=null,"js"===e?((t=document.createElement("script")).type="text/javascript",t.src=r):"link"===e?((t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href=r):(t=document.createElement("style")).src=r,void 0!==a&&(t.onload=a),(document.head||document.getElementsByTagName("head")[0]).appendChild(t))},GarterO.prototype.isLogged=function(){return 0!==this.userData.stars},GarterO.prototype.signature=function(e,t,r){if(0===arguments.length)return{gameId:this.gameId,gameVer:void 0!==this.game?this.game.projectVer:null,userId:this.userId,hash:this.hash,platform:"unity"};this.userId=t,this.gameId=e,this.hash=r},GarterO.prototype.gameConfig=function(){return{runMode:this.runMode,saveFrequency:this.saveFrequency,outgoingLinks:this.outgoingLinks,host:this.hostName}},GarterO.prototype.activateDebugMode=function(){this.debugMode=!0},GarterO.prototype.getUserRank=function(e){var t=Math.ceil(Number(e)/4),e=e%4/4*100;return{rankName:["unlogged","casual","bronze","silver","gold","platinum","super"][t].toUpperCase(),rankColor:["#87878787","#3399cc","#0ed801","#ffc107","#673ab7","#795548","#cddc39"][t],progress:e}},GarterCore.prototype.tabActivityMonitor=function(){var e,t;function r(){document[e]?Garter.activeGamePage=!1:Garter.activeGamePage=!0}void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),void 0===document.addEventListener&&void 0===document[e]||document.addEventListener(t,r,!1),r()},GarterCore.prototype.init=function(){this.garter=Garter,this.garter.gui=new GarterGui,this.garter.gui.browserPrompt();var d=__garter_initData(),l=this.getHostInfo();function c(){var e;document.getElementsByClassName&&((e=(e=document.getElementsByClassName("afs_ads"))[e.length-1])&&0!==e.innerHTML.length&&0!==e.clientHeight?(e.style.display="none",Garter.ads.adBlock=!1):(Garter.ads.adBlock=!0,Garter.server.req({type:"GET",server:Garter.serverConnAddress+"campaign?c="+Garter.userData.country,data:""},function(e,t){e||null===t?window.console.log(e,t):(t=null!==(e=JSON.parse(t)).i&&""!==e.i?e.i.split(","):null,Garter.ads.affiliate.enabled=null!==t,Garter.ads.affiliate.img=t,Garter.ads.affiliate.link=e.l)})),0!==Garter.ads.preroll&&window.gameLoadProcessor.asyncLoadReady({s:"GARTER",p:!1===Garter.ads.adBlock}))}this.garter.gameFolder=d.signature.gameFolder,this.garter.saveFrequency=2,this.garter.hostName=l.host,this.garter.fileSize=null!==d.fs&&0!==d.fs?d.fs:0,this.tabActivityMonitor(),this.garter.topUrl=l.topUrl,this.garter.SW=new PWA_SW,"serviceWorker"in navigator&&this.garter.SW.init(),this.garter.server=new GarterServer,this.garter.server.req({type:"POST",server:Garter.serverConnAddress+"launch",data:"g="+d.signature.gid+"&u="+l.topUrl+"&ii="+JSON.stringify({u:l.nestedIframeUrl}),credentials:!0},function(e,t){var r,a,o,n,i=null,s=null;if(e)window.console.error("GAMEPLAYER|",e);else try{i=(r=JSON.parse(t)).game,s=r.auth}catch(e){window.console.error("GAMEPLAYER|",e)}a=s,o={required:!0,nexesarry:!1,statistics:!1,marketing:!1},n={uid:1,h:d.signature.h},e={uid:1,nick:"Guest",lang:"en",country:"XX",avatar:"https://www.gamearter.com/img/guest.png",coins:0,diamonds:0,ban:0,stars:0,progress:0},null!=a&&(o=a.user_consent,1!==(e=a.user).uid&&(n=a.signature)),Garter.userData=e,window.UserConsent=o,Garter.signature(d.signature.gid,n.uid,n.h),function(e){var t=1,r=0,a=0;Garter.gui.brand="pacogames";var o={preroll:0,enabled:0,mProviders:0,mMeantime:0,maxDuration:0,rProviders:0,rMeantime:0};if(null!=e)try{Garter.hostId=e.h,t=e.r,e.l,a=e.a,r=e.t,e.vd,Garter.gui.brand=e.b,-1!==document.location.href.indexOf("gd_sdk_referrer_url")&&(Garter.azr=new Gazerion,Garter.azr.init(Garter.gameId),e.mp="4",e.pr=0,e.mm=3,Garter.gui.brand="-+"),o={preroll:e.pr,enabled:0!==d.conf.ad?e.ae:0,mProviders:e.mp,mMeantime:6e4*Number(e.mm),maxDuration:1e3*Number(e.md),rProviders:e.rp,rMeantime:6e4*Number(e.rm)}}catch(e){window.console.error("DATABASE ERR "+e)}if(0!==(Garter.runMode=t)){(new GarterAnalytics).create(d.tracking.analytics,d.signature.gameFolder);var n=null!==l.nestedIframeUrl&&void 0!==l.nestedIframeUrl?l.nestedIframeUrl:l.topUrl,i="#ffb700";if(31===Garter.hostId)Garter.playground="facebook",a=0,Garter.fbl=new Gfacebook,7645===Garter.gameId&&Garter.fbl.init("2486630878023612"),i="#3578E5";else switch(Garter.gui.brand){case"games44":i="#67b738";break;case"crazygames":i="#0184c8"}o.affiliateId=Number(d.signature.aid),Garter.ads=new GarterAds(o,{client:"ca-games-pub-5908399841745966",channel:d.tracking.ads},n,l.host),Garter.gui.renderGamePlayer({brand:{stringId:Garter.gui.brand,color:i},alert:a}),0<r&&(new GarterDemoVersion).init(r),0===Garter.ads.preroll&&window.gameLoadProcessor.asyncLoadReady({s:"GARTER",p:!1}),setTimeout(c,300)}else Garter.gui.blockRunning()}(i)}),this.garter.moduleConn=new GarterModuleConn},GarterGui.prototype.updateLoadingScreenUserDashboard=function(){},GarterServer.prototype.req=function(e,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState&&200===r.status){if(void 0!==t)return t(null,this.response)}else if((4==r.readyState&&404===r.status||5==r.readyState)&&void 0!==t)return t(r.status,null)},r.open(e.type,e.server),!0===e.credentials&&(r.withCredentials=!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(e.data)},GarterCore.prototype.getHostInfo=function(){try{var e;-1!==document.location.href.indexOf("?key=")&&((e=document.createElement("span")).setAttribute("style","position:absolute;background-color:black;bottom:35px;right:0;z-index:1000"),e.innerHTML=" Test ver ",document.body.appendChild(e))}catch(e){window.console.log(e)}function t(){}t.prototype.containsSubdomain=function(e){return(e=e.replace(new RegExp(/\/(.*)/),"")).match(new RegExp(/\.[a-z]{2,3}\.[a-z]{2}$/i))?e=e.replace(new RegExp(/\.[a-z]{2,3}\.[a-z]{2}$/i),""):e.match(new RegExp(/\.[a-z]{2,4}$/i))?e=e.replace(new RegExp(/\.[a-z]{2,4}$/i),""):"games"===e.split(".")[1]&&(e=""),e.match(new RegExp(/\./g))},t.prototype.getHost=function(t){var r=null;t=t.replace(new RegExp(/\\/g),"/");try{r=new URL(t).hostname}catch(e){var a=document.createElement("a");a.href=t,r=a.hostname}return this.containsSubdomain(r)&&(r=r.substring(r.indexOf(".")+1)),null!==r?r.toLowerCase():null};var r=new t,a=encodeURI(document.referrer),o=null,n=null,i=!1;"string"==typeof a&&-1!==a.indexOf("?")&&(a=a.substr(0,a.indexOf("?")));var s=function(){try{var e=window;return e.document.location.href!==e.parent.document.location.href}catch(e){return!0}}();if(s)try{try{o=window.top.location.href}catch(e){var d,l=window.location.ancestorOrigins,c=l.length;1<c?(o=l[c-1],n=a,d=r.getHost(o),c=l[c-2],d!==(c=r.getHost(c))&&-1===c.indexOf("poki.com")&&-1===d.indexOf("a10.com")&&-1===d.indexOf("facebook.com")&&(i=!0)):o=a}}catch(e){o=a,n=void 0}else a=o=document.location.href;return{host:r.getHost(o),topUrl:o,nestedIframeUrl:n,nestedIframeAlert:i,isIframe:s}},GarterUnityGame.prototype.restart=function(){location.reload()},GarterUnityGame.prototype.getAdConf=function(){var e=(new Date).getTime()-Garter.ads.midroll.lt,t=-1;Garter.ads.midroll.e&&(t=e>=Garter.ads.midroll.m?0:(Garter.ads.midroll.m-e)/1e3),gameInstance.SendMessage("GameArter_sdk","HAdConfCb",JSON.stringify({nextAdM:t,meantimeM:Garter.ads.midroll.m/1e3,nextAdR:-1,meantimeR:-1}))},GarterUnityGame.prototype.runStoryAnimation=function(e){var o=document.getElementById("ga_storymodule"),n=null;function i(){Garter.game.runStoryAnimationCallback(2),o.style.display="none",o.children[0].innerHTML="",clearInterval(n)}Garter.server.req({type:"GET",server:Garter.serverConnAddress+"story-module?g="+Garter.gameId+"&s="+e,data:""},function(e,t){e||""===t?window.console.log(e):null!==(t=JSON.parse(t))?function(e){Garter.game.runStoryAnimationCallback(1);var t=o.children[1],r=o.children[2].children[0].children[0].children[0];switch(t.onclick=i,0<e.t&&(t.style.display="none",setTimeout(function(){document.getElementById("ga_storymodule").children[1].style.display="inline-block"},1e3*e.t)),e.s){case"youtube":o.children[0].innerHTML='<iframe width="100%" height="100%" src="https://www.youtube-nocookie.com/embed/'+e.i+'?rel=0&autoplay=1&controls=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>';break;case"video":o.children[0].innerHTML='<video autoplay poster="https://www.pacogames.com/img/spinner.svg" height="100%" width="100%"><source src="https://data.pacogames.com/gameplayer/story-module/'+e.i+'.mp4"> type="video/mp4">Your browser does not support mp4 video.</video>';break;case"image":o.children[0].innerHTML='<img src="https://data.pacogames.com/gameplayer/story-module/'+e.i+'" height="100%" wodth="100%">'}o.style.display="block";var a=0;r.style.width="0%",n=setInterval(function(){a++,r.style.width=a/e.l*100+"%",a===e.l&&i()},1e3)}(t):window.console.log("no story found")})},GarterUnityGame.prototype.runStoryAnimationCallback=function(e){1===e?this.windowOpened("storywindow"):this.windowClosed("storywindow")},GarterUnityGame.prototype.settingsInfo=function(){},GarterUnityGame.prototype.active=function(){},GarterUnityGame.prototype.analytics=function(e){window.console.log("GarterUnityGame.analytics| ",e);var t=e.category,r=e.action,a=e.label,o=e.value;"automatical"===e.mode&&(t=Garter.gameFolder,r="Scene changed",a=e.scene),(new GarterAnalytics).sendEvent(t,r,a,o)},GarterAnalytics.prototype.create=function(e,t){try{window.UserConsent.marketing&&(window.gtag("set","dimension4","x0-45459398"),window.gtag("set","dimension1",Garter.gameId),window.gtag("set","dimension2","offerdetail"),window.gtag("set","dimension3",__garter_initData().signature.cat))}catch(e){window.console.log(e)}var r,a,o,n;gtag("config","UA-108179055-1",{anonymize_ip:!window.UserConsent.marketing}),this.isValidCode(e)&&(window.console.log("creating GameArter analytics",e,t),r=window,n=document,a="gamearter_analytics",r.GoogleAnalyticsObject=a,r[a]=r[a]||function(){(r[a].q=r[a].q||[]).push(arguments)},r[a].l=+new Date,o=n.createElement("script"),n=n.getElementsByTagName("script")[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",n.parentNode.insertBefore(o,n),gamearter_analytics("create",e,"auto"),gamearter_analytics("set","anonymizeIp",!0),gamearter_analytics("set","page","/"+t),gamearter_analytics("send","pageview")),Garter.server.req({type:"POST",server:Garter.serverConnAddress+"analytics",data:"t=1&g="+Garter.gameId+"&h="+Garter.hostId},function(e,t){window.console.log(e,t)})},GarterAnalytics.prototype.isValidCode=function(e){if(null===e||""===e||void 0===e)return!1;e=e.split("-");return 3===e.length&&"UA"===e[0]},GarterAnalytics.prototype.sendEvent=function(e,t,r,a,o){if(Garter.debugMode&&window.console.log("GARTER | ANALYTICS | EVENTS | ",e,t,r,a,"GameArterAnalytics:",o),void 0===o){""===e&&(e="ingame-event");var n={hitType:"event",eventCategory:e,eventAction:t};""!==r&&null!==r&&(n.eventLabel=r),""!==a&&null!==a&&(n.eventValue=a);try{gamearter_analytics("send",n)}catch(e){window.console.info("Analytics is not defined")}}else if(e===Garter.gameFolder&&"time-goal"===t)try{gamearter_analytics("send",{hitType:"event",eventCategory:Garter.gameId,eventAction:"time-goal",eventLabel:r})}catch(e){window.console.error(e)}else window.console.info("ANALYTICS request ignored")},GarterAnalytics.prototype.autoTimeEvents=function(){var e=0;setInterval(function(){Garter.activeGamePage&&++e%5==0&&e<61&&((new GarterAnalytics).sendEvent(Garter.gameFolder,"time-goal",e+" minutes"),e<=20&&Garter.server.req({type:"POST",server:Garter.serverConnAddress+"analytics",data:"t=2&g="+Garter.gameId+"&f="+e},function(e,t){window.console.log(e,t)}))},6e4)},GarterUnityGame.prototype.ban=function(e){window.console.error("----\x3e Ban for reason: ",e.r," note: "+e.n,"time:"+e.t);try{!navigator.cookieEnabled||!window.localStorage||localStorage.getItem("pg_ban_reported")||(localStorage.setItem("pg_ban_reported","1"),Garter.server.req({type:"POST",server:"https://sdk.pacogames.com/dashboard/ban-info",data:"gid="+Garter.gameId+"&uid="+Garter.userId+"&url="+Garter.hostName+"&r="+e.r+"&n="+e.n},function(e,t){window.console.log("||",e,t)}))}catch(e){window.console.log(e)}},GarterCore.prototype.browserDetection=function(){var e="unknown";return-1!=navigator.userAgent.indexOf("Chrome")?e="chrome":-1!=navigator.userAgent.indexOf("Firefox")?e="firefox":-1!=(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))?e="opera":-1!=navigator.userAgent.indexOf("Edge")?e="edge":-1!=navigator.userAgent.indexOf("MSIE")||1==!!document.documentMode?e="explorer":-1!=navigator.userAgent.indexOf("YaBrowser")&&(e="yandex"),e},GarterUnityGame.prototype.init=function(e){var t;void 0===Garter.game&&(Garter.debugMode&&window.console.log("GAMEINIT |",e),this.isActive=!0,this.engineName=e.e,this.sdkVer=Number(e.s),this.multiplayer=e.m,this.platform=e.p,this.loaded=!0,this.interpreter=e.i,this.shopSyncRequired=!1,this.projectVer=e.pv,this.waitingForInit=!1,t=e.ev.split("."),this.engineVer=Number(t[0]+"."+t[1]),Garter.game=this,31!==Garter.hostId?Garter.isLogged()||66===this.interpreter?this.initCallback():setTimeout(function(){Garter.gui.lastOpenedModule=void 0,(new GarterLogin).open(!0,!1)},2500):void 0!==Garter.fbl&&!0===Garter.fbl.authentized&&this.initCallback(),0!==document.getElementsByName("#badges").length&&(document.getElementsByName("#badges")[0].style.display="block"),Garter.server.req({type:"POST",server:Garter.serverConnAddress+"analytics",data:"t=2&g="+Garter.gameId+"&f=0"},function(e,t){window.console.log(e,t)})),e.g!==Garter.gameId&&(window.console.error("WRONG GID IDENTIFICATION| ",e.g,Garter.gameId),Garter.gui.ban("Wrong projectId - difference in projectId in the game and in GameArter system."))},GarterUnityGame.prototype.initCallback=function(e){var t=Garter.userData,r=Garter.signature(),a=Garter.gameConfig(),a={i:null===r.userId?1:r.userId,u:[t.nick,t.lang,t.country],pu:t.avatar,ud:[t.coins,t.diamonds],p:Number(t.progress),b:t.ban,s:t.stars,gm:a.runMode,sf:[a.saveFrequency,5],h:r.hash,ol:0,rf:a.host,l:["gamearter",Garter.gui.brand+"-uni",Garter.gui.brand+"-emb"],bn:(new GarterCore).browserDetection(),a:1,ra:void 0!==Garter.ads&&-1<Garter.ads.midroll.p.indexOf(27),pw:void 0!==Garter.SW?Garter.SW.state:"disabled"};Garter.game.multiplayer&&(a.na=r.gameId+"_"+r.gameVer,a.ni=Math.floor(1e19*Math.random()).toString()),Garter.debugMode&&window.console.info("→ SDK| Set & initCallback to unity game",a,"engine ver: ",Garter.game.engineVer),void 0===e&&(Garter.isLogged()?Garter.gui.working("open"):Garter.gui.working("open",void 0,"WAITING FOR CLICK.")),5.5<Garter.game.engineVer?null!==gameInstance?(gameInstance.SendMessage("GameArter_sdk","SdkInitCallback",JSON.stringify(a)),Garter.debugMode&&gameInstance.SendMessage("GameArter_sdk","DebugMode",1)):Garter.game.waitingForInit=!0:(SendMessage("GameArter_sdk","SdkInitCallback",JSON.stringify(a)),Garter.debugMode&&SendMessage("GameArter_sdk","DebugMode",1)),(new GarterLogin).dockLock("unlock"),setTimeout(function(){document.getElementsByTagName("canvas")[0].focus(),document.getElementsByTagName("canvas")[0].click()},700)},GarterO.prototype.clearModules=function(){var e=["#discussion","#profile","#report","#shop","#badges","#leaderboard","#controls"],t=void 0!==Garter.gui.lastOpenedModule?e.indexOf(Garter.gui.lastOpenedModule):-1;Garter.debugMode&&window.console.log("Garter | clear modules , lastModuleOpened: ",Garter.gui.lastOpenedModule,"index: ",t);for(var r=0;r<e.length;r++){var a=document.getElementById(e[r]);null!==a&&0!==a.children.length?r===t?(window.console.log("reloading ",e[r]),Garter.gui.working("open"),a.children[0].contentWindow.location.reload(!0)):(window.console.log("clearing ",e[r]),a.innerHTML=""):r===t&&Garter.gui.displayModule(e[t],!0,a)}},GarterUnityGame.prototype.gameInitialized=function(e){window.console.log("Game initialized ",e,this.interpreter),Garter.gui.working("close"),66!==this.interpreter?(new GarterLogin).close(!1):(new GarterLogin).dockLock("unlock")},GarterO.prototype.btnClickListener=function(e){switch(e){case"verify-ban":window.console.log("logged? ",this.isLogged(),"BAN!!!!");break;case"fullscreen":(new GarterFullscreen).auto()}},GarterUnityGame.prototype.openWindow=function(e){switch(Garter.debugMode&&window.console.log("FROM GAME | OPEN WINDOW | ",e),e.w){case"shop":Garter.gui.displayModule("#shop",!0,null);break;case"gameinfo":Garter.gui.dockModule("#controls",!0);break;case"gift":break;case"login":(new GarterLogin).open(!0,!1);break;case"badge":Garter.gui.displayModule("#badges",1===e.s,null);break;case"leaderboard":Garter.gui.displayModule("#leaderboard",1===e.s,null);break;case"profile":(new GarterProfile).open(!0,e);break;case"share":(new GarterSharing).open();break;case"offline":Garter.gui.dockModule("#no-connection",!0);break;case"discussion":Garter.gui.dockModule("#discussion",!0);break;case"moregames":Garter.gui.dockModule("#games_wbtn",!1);break;case"development":Garter.gui.dockModule("#update",!1)}},GarterUnityGame.prototype.windowOpened=function(e){"#"===e.charAt(0)&&(e=e.slice(1)),5.5<Garter.game.engineVer?gameInstance.SendMessage("GameArter_sdk","SdkWindowOpened",e):SendMessage("GameArter_sdk","SdkWindowOpened",e),this.isActive=!1,window.console.log("GAMEARTER | game.windowOpened | ",e)},GarterUnityGame.prototype.windowChanged=function(e){"#"===e.charAt(0)&&(e=e.slice(1)),5.5<Garter.game.engineVer?gameInstance.SendMessage("GameArter_sdk","SdkWindowChanged",e):SendMessage("GameArter_sdk","SdkWindowChanged",e),Garter.debugMode&&window.console.log("GAMEARTER | game.windowChanged | ",e)},GarterUnityGame.prototype.windowClosed=function(e){var t;void 0!==e?"#"==e.charAt(0)&&(e=e.slice(1)):e="login",Garter.debugMode&&window.console.log("game.windowClosed | ",e,"shop sync required: ",this.shopSyncRequired),"shop"!==e&&"exchange"!==e||!this.shopSyncRequired?(t=e,5.5<Garter.game.engineVer?gameInstance.SendMessage("GameArter_sdk","SdkWindowClosed",t):SendMessage("GameArter_sdk","SdkWindowClosed",t),window.console.log("GAMEARTER | game.windowClosed | ",t)):(5.5<Garter.game.engineVer?gameInstance.SendMessage("GameArter_sdk","SyncShop",Garter.hash):SendMessage("GameArter_sdk","SyncShop",Garter.hash),this.shopSyncRequired=!1),this.isActive=!0},GarterUnityGame.prototype.ads=function(e){if(Garter.debugMode&&window.console.log("ad req| ",e,this,Garter.ads,Garter.activeGamePage),void 0!==Garter.ads&&null===Garter.ads.state&&Garter.activeGamePage)if(Garter.ads.now=(new Date).getTime(),6===e.t)if(Garter.ads.rewarded.i)null!==Garter.ads.rewarded.r?(Garter.ads.setStatus("pending"),this.rewardedAd(27)):Garter.ads.setStatus("ignored");else{Garter.ads.setStatus("pending");try{Garter.ads.initRewardedAndRequest(27)}catch(e){window.console.error("rewarded ads init req:",e),Garter.ads.setStatus("ignored")}}else Garter.ads.midroll.e&&null!==Garter.ads.midroll.p?(Garter.ads.setStatus("pending"),this.midrollAd(e)):Garter.ads.setStatus("ignored");else Garter.ads.setStatus("ignored")},GarterUnityGame.prototype.midrollAd=function(e){var r=Garter.ads,t=e.t;if(0===r.midroll.lt)s();else{r.midroll.lt<r.launchTime&&(r.midroll.lt=r.launchTime);var e=r.now-r.midroll.lt,a=r.midroll.m-e;if(this.multiplayer){try{clearTimeout(Garter.ads.adLoop)}catch(e){window.console.log(e)}1===t?o(a):e>r.midroll.m?s():r.setStatus("ignored")}else if(0!==t){try{clearTimeout(Garter.ads.adLoop)}catch(e){window.console.log(e)}2===t&&e>r.midroll.m?s():1===t?o(a):r.setStatus("ignored")}else r.setStatus("ignored")}a=1===t||!this.multiplayer&&2!==t;function o(e){e<=0?n(r.midroll.m):(r.setStatus("ignored"),n(e))}function n(e){var t;window.console.info("LM| t:",e," | display in:"+e%r.midroll.m),void 0===e&&(e=r.midroll.m+1),e%r.midroll.m==0?Garter.activeGamePage?(r.now=(new Date).getTime(),t=r.now-r.midroll.lt,window.console.info("meantime / last ",t,">",r.midroll.m),t>r.midroll.m?(s(),i(e+r.midroll.d)):i(1.25*t)):(window.console.info("Game is not active"),i(e)):i(e)}function i(e){window.console.info("SPP|",r.midroll.p,new Date,"smyck| ",e);try{clearTimeout(Garter.ads.adLoop)}catch(e){window.console.log(e)}r.adLoop=setTimeout(function(){switch(r.midroll.p[0]){case 24:n(2*r.midroll.m);break;case 13:n(+r.midroll.m);break;default:n(2*r.midroll.m)}},e)}function s(){Garter.debugMode&&window.console.log("calling ad"),setTimeout(function(){r.request(t,r.midroll.p[0])},10)}a&&void 0===Garter.ads.adLoop&&(Garter.debugMode&&window.console.log("al: ",a),r.midroll.lt=r.now,n(r.midroll.m+r.midroll.d+5e3))},GarterUnityGame.prototype.rewardedAd=function(e){Garter.ads.request(6,27)},GarterAds.prototype.request=function(e,t){Garter.debugMode&&window.console.log("ad req| ",e,t);try{if(6!==e){if(null!==this.midroll.p&&0<this.midroll.p.length)if(this.adBlock)this.adBlock&&this.affiliate.enabled?this.solution2(!0):void 0!==Garter.asyncPreload&&Garter.launchGame();else switch(t){case 24:.6<Math.random()?this.solution2(this.affiliate.enabled):(this.killProcessor("activate"),this.solution1(t));break;case 27:this.killProcessor("activate"),this.solution7();break;case 25:this.lifeStreet();break;case 4:void 0!==Garter.azr&&Garter.azr.interstitialAd();break;default:this.killProcessor("activate"),this.solution1(t)}}else this.rewardedAd(t)}catch(e){window.console.error("AD PROBLEM: ",e),this.setStatus("failed")}},GarterAds.prototype.rewardedAd=function(e){window.console.log("rewarded ad req | provider:",e),27===e?(Garter.ads.setStatus("loaded","rewarded"),Garter.ads.rewarded.r()):(window.console.log("unknown provider"),this.solution6("ads-unavailable"))},GarterAds.prototype.initRewardedAndRequest=function(r){this.createPreloader(),this.rewarded.to=setTimeout(function(){Garter.ads.destroyAdPlayer(),Garter.ads.setStatus("failed"),gameInstance.SendMessage("GameArter_sdk","HRewardedAdIsReady",0)},6e3),window[window.preroll.config.loaderObjectName].registerRewardCallbacks({onReady:function(e,t){console.log("wgAdsOnRewardReadyCallback",e,t),Garter.ads.rewarded.r=function(){e.call(t)},Garter.ads.rewarded.i?5.5<Garter.game.engineVer&&3.5<=Garter.game.sdkVer&&gameInstance.SendMessage("GameArter_sdk","HRewardedAdIsReady",1):(Garter.ads.rewarded.i=!0,clearTimeout(Garter.ads.rewarded.to),Garter.ads.rewardedAd(r),Garter.ads.destroyAdPlayer())},onSuccess:function(){Garter.ads.rewarded.r=null,Garter.ads.setStatus("completed","rewarded"),console.log("wgAdsOnRewardCompleteCallback - success")},onFail:function(){Garter.ads.rewarded.r=null,Garter.ads.setStatus("failed","rewarded"),console.log("wgAdsOnRewardCompleteCallback - failed")}})},GarterAds.prototype.solution6=function(e){Garter.debugMode&&window.console.log("applixir cb: ",e);var t="failed";switch(e){case"ad-fallback":case"ad-watched":case"ad-interrupted":t="completed";break;case"ads-unavailable":t="failed"}e=document.getElementById("ga_sp_preloader");e.children[0].style.display="block",e.style.display="none",Garter.ads.setStatus(t)},GarterAds.prototype.solution1=function(t){Garter.debugMode&&window.console.log("AD| Solution 1",this.midroll,"prefered: ",t),Garter.ads.setStatus("loaded");var a,r,o,n=null,i=document.getElementById("ga_sp_video"),s=i.children[1].children[0].children[0].children[0];i.style.display="block";var d=i.children[0];d.innerHTML="",n=document.getElementById("ga_game"),this.adDimension=[d.offsetWidth,d.offsetHeight-13];var l=null,c=!1,g="google";if(0!==this.adDimension[0]&&0!==this.adDimension[1]){var e=void 0!==window.UserConsent&&window.UserConsent.nexesarry?"":"&npa=1",u="https://googleads.g.doubleclick.net/pagead/ads?ad_type=video_text_image_flash&client="+this.midroll.adsense.client+"&description_url="+encodeURI(this.gameUrl)+"&channel="+this.midroll.adsense.channel+"&videoad_start_delay="+(this.now-this.launchTime)+"&hl="+Garter.userData.lang+e;switch(0!==this.midroll.d&&(u+="&max_ad_duration="+this.midroll.d),t){case 3:l="https://v.lkqd.net/ad?pid=304&sid=650694&output=vastvpaid&support=html5flash&execution=any&placement=&playinit=auto&volume=100&width="+this.adDimension[0]+"&height="+this.adDimension[1]+"&dnt=1&pageurl="+encodeURI(this.gameUrl)+"&rnd="+this.now+"&c2="+Garter.gameId+"&gdprcs=0&gdpr=1",g="venatus";break;case 6:l="https://ima3vpaid.appspot.com/?adTagUrl=https%3A%2F%2Fgoogleads.g.doubleclick.net%2Fpagead%2Fads%3Fclient%3Dca-games-pub-3622156405313063%26slotname%3D1122515090%26ad_type%3Dvideo%26description_url%3Dhttps%253A%252F%252Fwww.pacogames.com%26videoad_start_delay%3D0&type=js",g="firstimpression";break;case 23:l="https://ads.adaptv.advertising.com/a/h/CctZpDGkpQKn3Ph6rDPwuoMEgIjV5Nhb5U2bxenEwKY=?cb=[CACHE_BREAKER]&pageUrl=https%3A%2F%2Fpacogames.com&description=VIDEO_DESCRIPTION&duration=VIDEO_DURATION&id=VIDEO_ID&keywords=VIDEO_KEYWORDS&title=VIDEO_TITLE&url=VIDEO_URL&pi.width=WIDTH&pi.height=HEIGHT&pi.viewable=VIEWABILITY&eov=eov",g="dailyengage";break;case 24:l="https://pubads.g.doubleclick.net/gampad/ads?iu=/11743293/brand_video&description_url=http%3A%2F%2Fwww.pacogames.com%2Flinks%2Fingame%2Fingame.phpart%3D1&env=vp&impl=s&correlator=&tfcd=0&npa=0&gdfp_req=1&output=vast&sz=300x250%7C730x550&ciu_szs=400x300,640x480,730x400&nofb=1&unviewed_position_start=1",g="dfp-affil";break;default:l=u}i.style.visibility="visible",function(){window.console.log("ad request: ",l),google.ima.settings.setLocale(Garter.userData.lang.toLowerCase()),google.ima.settings.setVpaidAllowed(!0),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),function(){try{o=new google.ima.AdDisplayContainer(d,n)}catch(e){window.console.error("imasdk.googleapis.com was not added / active adBlock | "+e),void 0===Garter.asyncPreload&&(Garter.ads.adBlock=!0),w("failed")}}(),(r=new google.ima.AdsLoader(o)).addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,p,!1),r.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,G,!1);var e=new google.ima.AdsRequest;e.adTagUrl=l,e.forceNonLinearFullSlot=!0,e.linearAdSlotWidth=Garter.ads.adDimension[0],e.linearAdSlotHeight=Garter.ads.adDimension[1],e.nonLinearAdSlotWidth=Garter.ads.adDimension[0],e.nonLinearAdSlotHeight=Garter.ads.adDimension[1];try{e.setAdWillAutoPlay(!0),e.setAdWillPlayMuted(!1)}catch(e){console.error(e)}c=!0,r.requestAds(e),setTimeout(function(){c&&(console.log("Ad req freezed, Removing..."),Garter.ads.killProcessor("deactivate"),w("failed"))},3e3)}()}function m(e){var t,r;-1!==e.getAd().g.contentType.indexOf("video")&&(a.pause(),t=document.getElementsByTagName("body")[0],(r=document.createElement("button")).setAttribute("id","continueAdPlayingBtn"),r.style.top="47%",r.style.left="45%",r.style.position="absolute",r.style.width="300px",r.style.height="50px",r.innerHTML="Continue in playing.",r.style.zIndex=1e3,r.onclick=function(){a.resume(),t.removeChild(r)},t.appendChild(r))}function p(e){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,(a=e.getAdsManager(n,t)).addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,G),a.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,y),a.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,h),a.addEventListener(google.ima.AdEvent.Type.LOADED,h),a.addEventListener(google.ima.AdEvent.Type.STARTED,h),a.addEventListener(google.ima.AdEvent.Type.CLICK,m),a.addEventListener(google.ima.AdEvent.Type.LOG,h),a.addEventListener(google.ima.AdEvent.Type.COMPLETE,h),function(){o.initialize();try{a.init(Garter.ads.adDimension[0],Garter.ads.adDimension[1],google.ima.ViewMode.NORMAL),a.start()}catch(e){w("failed"),window.console.error("Ad manager does not exists | "+e)}}()}function h(e){switch(c=!1,console.log("adEvent: ",e),e.type){case google.ima.AdEvent.Type.LOADED:Garter.ads.setStatus("running"),function(){s.style.width="0%",i.children[1].style.display="block";var t=a.getRemainingTime(),r=setInterval(function(){var e;null!==a&&-1!==a.getRemainingTime()?(e=t-a.getRemainingTime(),s.style.width=e/t*100+"%"):clearInterval(r)},1e3)}(),Garter.ads.killProcessor("deactivate");try{gtag("event","ad-loaded",{event_category:g,event_label:Garter.hostName,value:Garter.gameId}),(new GarterAnalytics).sendEvent(Garter.gameFolder,"ad-impression",Garter.hostName,1)}catch(e){window.console.error(e)}break;case google.ima.AdEvent.Type.STARTED:d.style.backgroundColor="black";break;case google.ima.AdEvent.Type.LOG:window.console.log("log");break;case google.ima.AdEvent.Type.COMPLETE:w("completed")}}function G(e){window.console.error("AdErrorEvent ",e.getError()),Garter.ads.killProcessor("deactivate"),i.style.display="none",c=!1;e=Garter.ads.midroll.p.indexOf(t)+1;e<Garter.ads.midroll.p.length?Garter.ads.request(1,Garter.ads.midroll.p[e]):w("failed")}function y(){c=!1,w("completed")}function w(e){a=null,d.innerHTML="",d.style.backgroundColor="transparent",i.style.visibility="hidden",i.style.display="none",i.children[1].style.display="none",Garter.ads.setStatus(e)}},GarterAds.prototype.createPreloader=function(){var e=document.getElementById("ga_sp_preloader");"flex"!==e.style.display&&(e.style.display="flex"),document.getElementById("m-gp__trigger--show").style.visibility="hidden";try{document.getElementsByClassName("footer-gp__games")[0].style.visibility="hidden",document.getElementsByClassName("gp__fullscreen")[0].style.visibility="hidden"}catch(e){console.error(e)}},GarterAds.prototype.setStatus=function(t,e){var r=t,a=-1<["completed","failed"].indexOf(t);function o(){Garter.ads.finalStateSent=!0,setTimeout(function(){Garter.ads.finalStateSent=!1},5e3)}console.log("[ad state]",t,"isFinal:",a),"loaded"===t&&(this.finalStateSent=!1,this.createPreloader(),void 0!==Garter.game&&Garter.game.sdkVer<3.5&&!this.alreadyMuted&&(this.alreadyMuted=!0,Garter.game.windowOpened("ad"))),a?("rewarded"!==e&&(this.midroll.lt=(new Date).getTime()),this.alreadyMuted=!1,this.destroyAdPlayer()):"pending"===t&&setTimeout(function(){"pending"===Garter.ads.state&&(Garter.ads.state=null)},15e3),null!==t&&void 0!==Garter.game&&(3.5<=Garter.game.sdkVer?setTimeout(function(){function e(){a&&(!a||Garter.ads.finalStateSent)||(5.5<Garter.game.engineVer?gameInstance.SendMessage("GameArter_sdk","HadvertisementStateCb",r):SendMessage("GameArter_sdk","HadvertisementStateCb",r),a&&o())}"loaded"!==t||Garter.ads.alreadyMuted?"loaded"!==t?e():console.log("unknown req:",t):(e(),Garter.ads.alreadyMuted=!0)},a?1e3:1):a&&!Garter.ads.finalStateSent&&(o(),setTimeout(function(){Garter.game.windowClosed("ad")},1e3))),this.state=a||"ignored"===t?null:t},GarterAds.prototype.lifeStreet=function(){window.console.log("request lifestreet ad",LSM_Slot),LSM_Slot({adkey:"2aa",ad_size:"650x520",slot:"slot1233650",_ad_type:"vast_banner",_onaction:function(e,t){console.log("_onaction",t,"|",e)}})},GarterAds.prototype.killProcessor=function(e){var t=new Date;switch(e){case"activate":window.console.log("AD Kill processor | Activation | t:",t.getSeconds()+":"+t.getMilliseconds()),Garter.ads.killProcessorProcess=!0,setTimeout(function(){Garter.ads.killProcessorProcess&&(window.console.log("!!! AD Kill processor | activated !!! | t:",t.getSeconds()+":"+t.getMilliseconds()),Garter.ads.setStatus("failed"),Garter.server.req({type:"GET",server:"https://www.pacogames.com/bug?game_id="+Garter.gameId+"&message=ad-problem=kill-processor-hit&browser="+(new GarterCore).browserDetection(),data:""},function(e,t){window.console.log(e,t)}))},15e3);break;case"deactivate":window.console.log("AD Kill processor | Deactivation | t:",t.getSeconds()+":"+t.getMilliseconds()),Garter.ads.killProcessorProcess=!1}},GarterAds.prototype.destroyAdPlayer=function(){window.console.log("--- destroyAdPlayer ---");var e=document.getElementById("ga_sp_preloader");e.children[0].children[2].innerHTML="RETURNING TO THE GAME...";try{var t=document.getElementById("ga_sp_video");null!==t&&"none"!==t.style.display&&(t.style.visibility="hidden",t.style.display="none",t.children[1].style.display="none")}catch(e){console.error(e)}setTimeout(function(){e.style.display="none",e.children[0].children[2].innerHTML="LOADING AD..."},500),void 0!==Garter.asyncPreload&&Garter.launchGame(),document.getElementById("m-gp__trigger--show").style.visibility="visible";try{document.getElementsByClassName("footer-gp__games")[0].style.visibility="visible",document.getElementsByClassName("gp__fullscreen")[0].style.visibility="visible"}catch(e){console.error(e)}},GarterAds.prototype.solution2=function(e){this.setStatus("loaded"),setTimeout(function(){Garter.gui.displayBannerAd(e)},2e3)},GarterAds.prototype.solution7=function(){void 0!==window[preroll.config.loaderObjectName]?void 0!==Garter.asyncPreload?window[preroll.config.loaderObjectName].refetchAd({callToAction:"Play Now!",prefetch:!1}):window[preroll.config.loaderObjectName].refetchAd({prefetch:!0}):(window.console.log("not loaded yet"),this.killProcessor("deactivate"),void 0!==Garter.asyncPreload?Garter.preLoad("err-click-area"):this.solution7cb({t:"adError"}))},GarterAds.prototype.solution7cb=function(t){switch(Garter.debugMode&&window.console.log("s7cb:",t),"inited"===t&&(t={t:"inited"}),t.t){case"inited":this.killProcessor("deactivate"),this.setStatus("loaded");break;case"adError":case"error":e();break;case"loaded":Garter.ads.setStatus("running"),this.killProcessor("deactivate");try{gtag("event","ad-loaded",{event_category:"weego",event_label:Garter.hostName,value:Garter.gameId}),(new GarterAnalytics).sendEvent(Garter.gameFolder,"ad-impression",Garter.hostName,2)}catch(e){window.console.error(e)}break;case"contentPauseRequested":this.killProcessor("deactivate");break;case"contentResumeRequested":case"allAdsCompleted":r("completed"),window.console.log("ad callback: ",t)}function r(e){Garter.ads.setStatus(e)}function e(){var e;Garter.ads.killProcessor("deactivate"),window.console.log("onError: ",t),"adblock"===t.m?(Garter.ads.adBlock=!0,r("failed")):(e=Garter.ads.midroll.p.indexOf(27)+1,window.console.log("preffIndex: ",e,Garter.ads.midroll.p),0!==e&&e<Garter.ads.midroll.p.length?Garter.ads.request(1,Garter.ads.midroll.p[e]):r("failed"))}},GarterGui.prototype.displayBannerAd=function(e){window.console.info("displayBanner, activeAdblock: ",e);var t=document.getElementById("ga_sp_banner"),r=t.children[0],a=t.children[1],o=t.children[2].children[0].children[0].children[0];o.style.width="2%";var n="dfp";e?(e=Math.floor(Math.random()*Garter.ads.affiliate.img.length),r.innerHTML='<a target="_blank" href="'+Garter.ads.affiliate.link+'"><img src="https://data.pacogames.com/images/aff/'+Garter.ads.affiliate.img[e]+'.jpg"></a>',t.style.display="flex",n="direct-affil"):(r.innerHTML='<div id="div-gpt-ad-1483631417666-0"></div>',t.style.display="flex",googletag.cmd.push(function(){googletag.display("div-gpt-ad-1483631417666-0")}));try{gtag("event","ad-loaded",{event_category:n,event_label:Garter.hostName,value:Garter.gameId}),(new GarterAnalytics).sendEvent(Garter.gameFolder,"ad-impression",Garter.hostName,3)}catch(e){window.console.error(e)}a.style.display="none";var i=30;this.skipAdInterval=setInterval(function(){20===--i?(a.style.display="block",a.children[0].removeAttribute("onclick"),a.children[0].innerHTML="Skip in "+(i-15)):i<20&&15<i?(a.children[0].innerHTML="Skip in "+(i-15),a.children[0].style.cursor="pointer"):15===i?(a.children[0].innerHTML="Skip ad",a.children[0].setAttribute("onclick","Garter.gui.removeBannerAd()")):0===i&&(clearInterval(Garter.gui.skipAdInterval),Garter.gui.removeBannerAd()),o.style.width=3.33*(30-i)+"%",setTimeout(function(){o.style.width=3.33*(30-(i-.5))+"%"},500)},1e3)},GarterGui.prototype.removeBannerAd=function(){document.getElementById("ga_sp_banner").style.display="none",clearInterval(this.skipAdInterval),Garter.ads.setStatus("completed")},GarterGui.prototype.removeSplashScreen=function(){document.getElementsByTagName("body")[0].removeChild(document.getElementById("brand_splashScreen"))},GarterGui.prototype.displaySplashScreen=function(){var e=document.getElementById("brand_splashScreen");null!==e&&(e.style.display="block",setTimeout(Garter.gui.removeSplashScreen,2500))},GarterGui.prototype.blockRunning=function(){window.console.log("The game has been blocked for this website due to policy violations."),Garter.preLoad();try{var e=document.getElementById("ga_blocked-game");e.style.display="flex",e.children[0].children[1].children[1].children[0].href="https://www.pacogames.com"}catch(e){window.console.error(e)}},GarterGui.prototype.hideModuleBar=function(e){(document.body||document.getElementsByTagName("body")[0]).classList.remove("bbar");var t=document.getElementById("m-gp__trigger--show");if(e)t.style.display="block";else{t.style.display="none",document.getElementById("menu-gp").style.display="none";try{document.getElementsByClassName("gp__fullscreen")[0].classList.add("hide")}catch(e){window.console.error(e)}}},GarterGui.prototype.displayModuleBar=function(){(document.body||document.getElementsByTagName("body")[0]).classList.add("bbar")},GarterGui.prototype.renderGamePlayer=function(e){Garter.debugMode&&window.console.log("RENDER GAMEPLAYER | GUI |",e);for(var t=document.getElementById("dockModulesList").children,r=[],a=1;a<t.length;a++){var o=t[a].getAttribute("data-url");null!==o&&""!==o&&r.push(t[a].id)}var n=!0;function i(){Garter.btnClickListener("fullscreen")}-1<r.indexOf("#games")||(n=!1),this.setBrand(e.brand,n);for(var s,d=document.getElementsByClassName("m-gp__list")[0],l=document.getElementsByClassName("m-gp__link"),c=d.children.length,g=0;g<c;g++){var u=l[g].getAttribute("name");if("#shop"!==u&&-1!==r.indexOf(u))if("#games"===u&&-1!==e.brand.stringId.indexOf("-")){l[g].onclick=i;try{l[g].children[1].innerHTML="Fullscreen"}catch(e){window.console.error(e)}}else l[g].onclick=Garter.dockClickListener,"#badges"===u&&(l[g].style.display="none");else d.removeChild(l[g].parentElement),c--,g--}if(d.offsetHeight<540){c=d.children.length;for(var m=0;m<c;m++)if("#games"===d.children[m].children[0].getAttribute("name")){d.removeChild(d.children[m]);break}}if(document.getElementById("m-gp__trigger--show").onclick=Garter.dockClickListener,document.getElementsByClassName("b-gp-side__close")[0].onclick=Garter.dockClickListener,"pacogames.com"!==Garter.hostName)"-"===e.brand.stringId||"-+"===e.brand.stringId?Garter.gui.hideModuleBar("-+"===e.brand.stringId):Garter.gui.displayModuleBar(),void 0!==window.gameInfo&&((s=document.createElement("iframe")).setAttribute("id","gamearter-hiframe"),s.src="https://www.pacogames.com/static/utils/gamearter-played.html",s.setAttribute("style","height:1px;width:1px;visibility:hidden"),s.onload=function(){s.contentWindow.postMessage(JSON.stringify(window.gameInfo),"https://www.pacogames.com"),setTimeout(function(){(document.body||document.getElementsByTagName("body")[0]).removeChild(document.getElementById("gamearter-hiframe"))},5e3)},(document.body||document.getElementsByTagName("body")[0]).append(s));else try{document.getElementsByClassName("gp__fullscreen")[0].classList.add("hide")}catch(e){window.console.error(e)}0<e.alert&&(this.activateAlertMessage(),(new GarterDemoVersion).init(5)),document.getElementsByTagName("html")[0].classList.add("no-touchevents")},GarterGui.prototype.setBrand=function(a,e){console.log("GameArter | brand config: ",a),null===a.stringId&&(a.stringId="pacogames");var o=document.getElementById("ga_game-loader").children[0],n=new Image;if("-"!==a.stringId&&"-+"!==a.stringId?(n.onload=function(){n.setAttribute("alt",a.stringId);var e=document.getElementsByTagName("footer")[0].children[0];e.innerHTML="";var t=n.cloneNode(!0);t.style.width="184px",t.style.height="18px",t.style.marginBottom="2px",t.classList.add("no-select"),"pacogames.com"!==Garter.hostName&&"gamearter.com"!==Garter.hostName?(e.setAttribute("href",Garter.serverConnAddress+"redirect-module?g="+Garter.gameId+"&r="+Garter.hostName+"&l=gameplayer_footer_logo&p=dwebgl&v=1"),e.setAttribute("target","_top")):e.setAttribute("href","https://www."+Garter.hostName),e.appendChild(t);t=n.cloneNode(!0);t.style.width="217px",t.style.height="23px",t.style.margin="17px 0 17px 25px",o.children[0].children[1].appendChild(t);try{var r=document.getElementById("brand_splashScreen").children[0].children[0];r.appendChild(n),r.innerHTML+='<p style="text-align: center; font-size: 25px;">Please wait, we are preparing the game for you...</p>'}catch(e){window.console.error(e)}document.getElementById("ga_sp_preloader").children[0].children[1].appendChild(n)},n.src="https://data.pacogames.com/gplayer/branding/"+a.stringId+"-uni.png"):o.children[0].children[1].style.display="none","pacogames"!==a.stringId&&"gamearter"!==a.stringId){document.getElementsByTagName("footer")[0].style.borderTop="3px solid "+a.color;try{o.children[1].children[0].style.backgroundColor=a.color}catch(e){window.console.log(e)}}},GarterGui.prototype.isDockOpened=function(){return-1!==document.getElementsByTagName("html")[0].className.indexOf("menu-gp-show")},GarterGui.prototype.openDock=function(e){this.isDockOpened()||(this.synchronisedModules=[],void 0!==Garter.game&&Garter.game.loaded&&Garter.game.windowOpened(e),document.getElementsByTagName("html")[0].classList.toggle("menu-gp-show"))},GarterGui.prototype.createModuleIframe=function(e){Garter.debugMode&&window.console.log("CREATE IFRAME| ",e.getAttribute("data-url"));for(var t,r=document.createElement("iframe"),a=e.getAttribute("data-url"),o=["shop","badges"],n=0;n<2;n++)-1<a.indexOf(o[n])&&(a=1<(t=a.split("?")).length?t[0]+"/"+Garter.game.projectVer+"?"+t[1]:t[0]+"/"+Garter.game.projectVer);return r.setAttribute("src",a),r.setAttribute("frameborder","0"),r.setAttribute("height","100%"),r.setAttribute("width","100%"),r.setAttribute("scrolling","no"),e.appendChild(r),r},GarterGui.prototype.displayModule=function(e,t,r){Garter.debugMode&&window.console.log("displayModule |",e,t,"SELECTED DIV ELEMENT:",r),this.isDockOpened()||this.openDock(e),void 0!==this.lastOpenedModule&&(document.getElementById(this.lastOpenedModule).style.display="none"),null===r&&(r=document.getElementById(e)),0===r.children.length?(this.working("open"),this.createModuleIframe(r)):t&&(this.working("open"),r.children[0].contentWindow.location.reload(!0)),r.style.display="1"===r.getAttribute("data-ifr")?"block":"flex",this.activeDockIcon(e,!0),this.lastOpenedModule=e,this.synchronisedModules.push(e),Garter.isLogged()||(r=new GarterLogin,"#profile"===e?r.open(!1,!1):r.close(!0))},GarterGui.prototype.activeDockIcon=function(e){var t=document.getElementsByName(e);0!==t.length&&t[0].classList.add("is-active"),e===this.lastOpenedModule||0!==(e=document.getElementsByName(this.lastOpenedModule)).length&&e[0].classList.remove("is-active")},GarterGui.prototype.openWindow=function(){var e=Garter.serverConnAddress+"redirect-module?g="+Garter.gameId+"&r="+Garter.hostName+"&l=gameplayer_more_games&p=dwebgl&v=1";window.open(e,"_blank","noopener")},GarterGui.prototype.dockModule=function(e,t){Garter.debugMode&&window.console.log("DOCK MODULE|",e,t,this.isDockOpened());var r=0,a="pacogames"!==this.brand&&"gamearter"!==this.brand;if(!t&&this.isDockOpened()?"#dock"===e?this.closeDock(this.lastOpenedModule):e!==this.lastOpenedModule&&("#games_wbtn"===e?a?this.openWindow():"#games"===this.lastOpenedModule?this.closeDock(this.lastOpenedModule):(r=1,e="#games"):r=-1===this.synchronisedModules.indexOf(e)?2:1):"#dock"===e?(-1<[void 0,"#shop","#gift","#no-connection"].indexOf(this.lastOpenedModule)?(e="#controls",r=1):(e="#games_wbtn"===e?"#games":this.lastOpenedModule,0===document.getElementById(e).children.length?r=t?1:2:-1<["#profile","#shop","#badges","#leaderboard"].indexOf(e)&&t?r=2:"#profile"===e&&(r=1)),this.openDock(e)):"#games_wbtn"===e?!a||Garter.ads.goldPartner||t?(r=1,"#games"===this.lastOpenedModule?this.closeDock(this.lastOpenedModule):e="#games",this.openDock(e)):this.openWindow():(r=t?1:2,this.openDock(e)),Garter.debugMode&&window.console.log(e,"sync required? ",r),0!==r||"#share"===e){switch(e){case"#profile":2===r&&void 0!==Garter.game&&Garter.game.loaded?(this.working("open"),Garter.game.userBilance()):this.displayModule(e,!1,null);break;case"#video":case"#discussion":case"#report":this.displayModule(e,!1,null);break;case"#share":(new GarterSharing).open();break;case"#games":case"#update":this.displayModule(e,!1,null);break;case"#badges":2===r&&void 0!==Garter.game&&Garter.game.loaded?Garter.game.openOverGame("badge"):this.displayModule(e,!1,null);break;case"#leaderboard":2===r&&void 0!==Garter.game&&Garter.game.loaded?(this.working("open"),Garter.game.openOverGame("leaderboard")):this.displayModule(e,!1,null);break;case"#controls":this.displayModule(e,!1,null)}void 0!==Garter.game&&Garter.game.loaded&&1.02<Garter.game.sdkVer&&Garter.game.windowChanged(e)}},GarterGui.prototype.working=function(e,t,r){"open"===e?(this.workingElm=document.getElementById("ga_working"),this.workingElm.style.display="flex",void 0!==t&&setTimeout(function(){Garter.gui.working("close")},t),this.workingElm.children[0].children[1].innerHTML=void 0===r?"LOADING, PLEASE WAIT...":r):"close"===e?(void 0!==this.workingElm&&(this.workingElm.style.display="none",delete this[this.workingElm]),"#games"===this.lastOpenedModule&&-1===Garter.hostName.indexOf("pacogames")?setTimeout(function(){document.getElementById("#games").children[0].contentWindow.moreGamesUTM(Garter.gameFolder,Garter.hostName)},800):"#discussion"===this.lastOpenedModule&&(e=document.getElementById("#discussion").children[0],Garter.debugMode&&window.console.log("DISCUSSION LOADED → replace btn",e.contentWindow),e.contentWindow.modificator.loginBtnForDiscussion())):console.warning("Unknown request")},GarterO.prototype.loginCallback=function(e){var t=new GarterLogin;Garter.debugMode&&window.console.log("Login callback received ",e),null!==e?"log-in"===e.action?(Garter.clearModules(),null!==e.data&&(Garter.userId=null===e.data.uid?1:e.data.uid,Garter.hash=e.data.h,Garter.userData.nick=e.data.nick,Garter.userData.avatar=e.data.img,Garter.userData.ban=null!==e.data.ban?e.data.ban:0,Garter.userData.coins=e.data.coins,Garter.userData.diamonds=e.data.diamonds,Garter.userData.lang=e.data.lang,Garter.userData.progress=e.data.progress,Garter.userData.stars=e.data.stars,0===e.data.stars&&Garter.gui.closeDock(Garter.gui.lastOpenedModule)),31!==Garter.hostId?void 0!==Garter.game&&Garter.game.loaded&&(66===Garter.game.interpreter&&t.close(!1),Garter.game.initCallback()):(void 0!==Garter.fbl&&(Garter.fbl.authentized=!0),void 0!==Garter.game&&Garter.game.loaded&&Garter.game.initCallback())):"log-out"===e.action&&t.open(!0,!1):console.error("dataObj is null! - "+e)},GarterLogin.prototype.dockLock=function(e){function t(e,t){var r,a,o;"create"===e?(Garter.gui.navBox=document.getElementById("menu-gp"),r=document.createElement("ul"),a=document.createElement("li"),o=document.createElement("span"),r.appendChild(a),a.appendChild(o),r.setAttribute("class","m-gp__list"),a.setAttribute("class","m-gp__item"),o.setAttribute("class","m-gp__link is-active"),o.setAttribute("style","cursor:default"),t=document.getElementsByName(t)[0].children[0].cloneNode(!0),o.appendChild(t),Garter.isMobile&&(Garter.gui.navBox.children[0].style.display="none"),Garter.gui.navBox.children[1].style.display="none",Garter.gui.navBox.appendChild(r)):"remove"===e?void 0!==Garter.gui.navBox&&(Garter.isMobile&&(Garter.gui.navBox.children[0].style.display="unset"),Garter.gui.navBox.children[1].style.display="flex",delete Garter.gui[Garter.gui.navBox]):window.console.warning("Unknown request")}"lock"===e?(t("create","#profile"),(new GarterFullscreen).footerBtn("hide")):"unlock"===e?(t("remove","#profile"),(new GarterFullscreen).footerBtn("display")):console.error("Garter | dockLock | unknown request")},GarterLogin.prototype.open=function(e,t){var r="Sign-in / Register",a="register";if(e){Garter.gui.working("open",1e3);try{r=document.getElementsByTagName("title")[0].innerHTML.split(" | ")[0]}catch(e){console.error(e)}a="game",this.dockLock("lock")}Garter.gui.openDock("#login"),this.isOpened()&&this.close(!0),console.log("OPEN LOGIN BOX",e,t),document.getElementById("ga-loginbutton-1").contentWindow.postMessage({dialog:{action:"open"},template:a,game:{title:r},cross:t},"https://auth.gamearter.com")},GarterLogin.prototype.close=function(e){console.log("CLOSE LOGIN | last module: ",Garter.gui.lastOpenedModule,"dock opened: ",Garter.gui.isDockOpened()),document.getElementById("ga-loginbutton-1").contentWindow.postMessage({dialog:{action:"close"}},"https://auth.gamearter.com"),this.dockLock("unlock"),e||-1===["#profile","#discussion","#badges"].indexOf(Garter.gui.lastOpenedModule)&&Garter.gui.closeDock(Garter.gui.lastOpenedModule)},GarterLogin.prototype.isOpened=function(){return null!==document.getElementById("glm-dialog")},GarterModuleConn.prototype.openLoginBox=function(){window.console.log("open from badge / discussion"),(new GarterLogin).open(!1,!0)},GarterSharing.prototype.open=function(){"undefined"==typeof GamearterShareModule?Garter.loadLibrary("js","sharing","https://www.gamearter.com/public-services/sharing/gamearter-sharing.js",function(){window.shareModule=new GamearterShareModule,window.shareModule.open()}):window.shareModule.open()},GarterGui.prototype.giftReward=function(){this.dockModule("#gift",!1)},GarterGui.prototype.closeDock=function(e){document.getElementsByTagName("html")[0].classList.remove("menu-gp-show"),void 0!==Garter.game&&Garter.game.loaded&&Garter.game.windowClosed(e),delete this[this.synchronisedModules]},GarterGui.prototype.ban=function(e,t){console.log("DISPLAY BAN|",e,t);t=document.getElementById("ga_account_ban");t.style.display="flex",t.style.zIndex=1e3,t.children[0].innerHTML=e},GarterO.prototype.dockClickListener=function(e){e.preventDefault(),Garter.debugMode&&window.console.log("CLICK LISTENER| ",e.currentTarget.attributes.name.value),-1===e.currentTarget.attributes.name.value.indexOf("#close")?Garter.gui.dockModule(e.currentTarget.attributes.name.value,!1):Garter.gui.closeDock(Garter.gui.lastOpenedModule)},GarterUnityGame.prototype.openOverGame=function(e){Garter.debugMode&&window.console.log("OPENING OVER GAME | ",e),5.5<this.engineVer?gameInstance.SendMessage("GameArter_sdk","OpenSdkWindow",e):SendMessage("GameArter_sdk","OpenSdkWindow",e)},GarterUnityGame.prototype.userBilanceCallback=function(e){Garter.debugMode&&window.console.log("userBilanceCallback|",e),(new GarterProfile).open(!1,e)},GarterUnityGame.prototype.userBilance=function(){Garter.debugMode&&window.console.log("requesting for userBilance"),5.5<Garter.game.engineVer?gameInstance.SendMessage("GameArter_sdk","GetUserBilance",""):SendMessage("GameArter_sdk","GetUserBilance","")},GarterGui.prototype.activateAlertMessage=function(){var e=document.getElementById("ga_warning_alert");e.style.display="block";var t=__garter_initData().paco;void 0!==t?((e=e.children[0]).style.display="block",e.style.zIndex=99,e.children[1].innerHTML="Due to policy violation made by this website, you need to go at <a href='https://www.pacogames.com' target='_blank'>PacoGames.com</a> to play this game.",e.children[2].innerHTML='<a href="https://www.pacogames.com'+t+"?utm_source=alert&utm_medium="+Garter.hostName+'&utm_campaign=adstxt-block"><h1>PLAY THE GAME</h1></a>'):Garter.gui.displayAlertMessage()},GarterGui.prototype.displayAlertMessage=function(){document.getElementById("ga_warning_alert").children[0].style.display="block"},GarterGui.prototype.removeAlertMessage=function(){document.getElementById("main").removeChild(document.getElementById("ga_warning_alert"))},GarterGui.prototype.browserPrompt=function(){window.gameLoadProcessor.asyncLoadReady({s:"BROWSER"})},GarterGui.prototype.removeBrowserPrompt=function(){document.getElementById("main").removeChild(document.getElementById("ga_browser_prompt")),window.gameLoadProcessor.asyncLoadReady({s:"BROWSER"})},GarterDemoVersion.prototype.init=function(e){var t=6e4*e,r=setInterval(function(){var e;void 0!==Garter.game&&Garter.game.isActive&&Garter.gameLoaded&&(t-=6e4)<0&&(clearInterval(r),e=Math.round(((new Date).getTime()-Garter.ads.launchTime)/6e4),(new GarterDemoVersion).displayMessage(e))},6e4)},GarterDemoVersion.prototype.displayMessage=function(){var e=document.createElement("div");e.setAttribute("class","b-unavailable b-unavailable--demo"),e.innerHTML='<div class="b-unavailable__wrap"><div class="b-unavailable__icon"><span class="icon-svg icon-svg--alarm-clock "><svg class="icon-svg__svg" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="/img/icons.svg#icon-alarm-clock" x="0" y="0" width="100%" height="100%"></use></svg></span></div><div class="b-unavailable__text"><h2 class="b-unavailable__title">This is where demo version ends.</h2><p class="b-unavailable__desc">Do not worry, you can continue in playing. You only have to change website. <br> If you are web owner, this limitation occured due to persistent violation (ads txt) of <a href="https://www.pacogames.com/games-for-your-website" target="_blank">conditions</a> for game publishing.</p><p class="b-unavailable__btn"><a href="https://www.pacogames.com/?utm_source=alert&utm_medium='+Garter.hostName+'&utm_campaign=adstxt-demo" target="_top" class="btn btn--yellow"><span class="btn__text">Continue at www.PacoGames.com</span></a></p></div></div>',document.getElementById("main").appendChild(e)},GarterFullscreen.prototype.get=function(){try{return!!(window.fullScreen||window.innerWidth==screen.width&&window.innerHeight==screen.height)}catch(e){return console.error("e: "+e),!1}},GarterFullscreen.prototype.set=function(){Garter.debugMode&&window.console.log("SET FULLSCREEN");try{var e=document.getElementsByTagName("html")[0];(e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen).call(e)}catch(e){console.error("Cannot set fullscreen")}},GarterFullscreen.prototype.cancel=function(){try{Garter.gui.isDockOpened()&&Garter.gui.closeDock(Garter.gui.lastOpenedModule),document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():console.log("UNKNOWN ACTION IS REQUIRED")}catch(e){console.error("Cannot exit fullscreen")}},GarterFullscreen.prototype.auto=function(){this.get()?(window.console.log("auto fullscreen → cancel"),this.cancel()):(window.console.log("auto fullscreen → set"),this.set())},GarterFullscreen.prototype.footerBtn=function(e){try{var t=document.getElementById("m-gp__trigger--show"),r=document.getElementsByName("#games_wbtn")[0],a=document.getElementsByClassName("gp__fullscreen")[0];"hide"===e?(a.style.visibility="hidden",t.style.visibility="hidden",r.style.visibility="hidden"):(t.style.visibility="visible",r.style.visibility="visible",a.style.visibility="visible")}catch(e){window.console.log("GarterFullscreen | ",e)}},GarterGui.prototype.unity56loader=function(e,t){var r;e.Module&&(e.progress||(r=document.getElementById("ga_game-loader").children[0],e.progress=r.children[1].children[0],e.messageArea=r.children[2].children[1].children[0],Garter.gui.gameLoaderImgManager(r),Garter.loadingCrash=!0,setTimeout(function(){Garter.loadingCrash&&(alert("Loading error detected. Game will be reloaded."),(new GarterAnalytics).sendEvent(Garter.gameFolder,"loading-error","UnityCache"),location.reload())},45e3)),.9<=t&&t<=.91?(e.progress.style.width="100%",e.messageArea.innerHTML="LOADING, PLEASE WAIT..."):(e.progress.style.width=100*t+"%",0!==Garter.fileSize?e.messageArea.innerHTML="Downloading ("+Math.round(1e4*t)/100+"% / "+Garter.fileSize+"mb)":e.messageArea.innerHTML="Downloading ("+Math.round(1e4*t)/100+"%)"),Garter.loadingCrash&&0!==t&&(Garter.loadingCrash=!1),1==t&&!0!==Garter.gameLoaded&&("-"!==Garter.gui.brand&&"-+"!==Garter.gui.brand&&Garter.gui.displaySplashScreen(),(t=document.getElementById("ga_game-loader")).style.display="none",document.getElementById("main").removeChild(t),Garter.gameLoaded=!0,(t=new GarterAnalytics).sendEvent(Garter.gameFolder,"time-goal","loaded"),t.autoTimeEvents(),void 0!==Garter.game&&Garter.game.waitingForInit&&Garter.game.initCallback(!0),delete Garter.fileSize))},GarterGui.prototype.unity2020loader=function(){var e=document.getElementById("ga_game-loader").children[0],t=e.children[1].children[0],r=e.children[2].children[1].children[0];Garter.gui.gameLoaderImgManager(e),Garter.isMobile&&(window.unityConfig.devicePixelRatio=1);e=document.getElementById("canvas");createUnityInstance(e,window.unityConfig,e=>{console.log("---- UnityLoad 2020 |",e),0===e?r.innerHTML="Loading...":.9===e?r.innerHTML="Launching...":(t.style.width=100*e+"%",0!==Garter.fileSize?r.innerHTML="Downloading ("+Math.round(1e4*e)/100+"% / "+Garter.fileSize+"mb)":r.innerHTML="Downloading ("+Math.round(1e4*e)/100+"%)")}).then(e=>{console.log("unityInstance",e),gameInstance=e;e=document.getElementById("ga_game-loader");e.style.display="none",document.getElementById("main").removeChild(e),Garter.gameLoaded=!0,void 0!==Garter.game&&Garter.game.waitingForInit&&Garter.game.initCallback(!0)}).catch(e=>{console.error("ERR:",e),alert(e)})},GarterGui.prototype.gameLoaderImgManager=function(e){var r=0,a=e.children[0].children[0],o=e.children[0].children[2].children,n=[],i=!0;setTimeout(function e(){if(!Garter.gameLoaded){try{var t;o[r].classList.remove("is-active"),9===r?(r=0,i=!1):(r++,-1===n.indexOf(r)?i&&((t=new XMLHttpRequest).open("HEAD","https://www.gamearter.com/games/"+Garter.gameFolder+"/thumbnails/img"+(r+1)+".jpg",!1),t.send(),404==t.status&&(r=0,i=!1,n.push(r))):r=0),1!==n.length&&1!=n[0]&&(a.setAttribute("src","https://www.gamearter.com/games/"+Garter.gameFolder+"/thumbnails/img"+(r+1)+".jpg"),o[r].classList.add("is-active"))}catch(e){console.error("GARTER|",e)}setTimeout(e,8e3)}},8e3)},GarterUnityGame.prototype.installAsPwa=function(){Garter.SW.installAsPwa()},GarterUnityGame.prototype.updatePwaState=function(e){gameInstance.SendMessage("GameArter_sdk","PwaCb",e)},PWA_SW.prototype.init=function(){window.addEventListener("beforeinstallprompt",Garter.SW.promptMng),window.addEventListener("load",function(){navigator.serviceWorker.register("/gamearter-sw.js",{scope:"./"}).then(function(){},function(e){window.console.log("ServiceWorker registration failed: ",e)}),Garter.debugMode&&window.console.log("page loaded")}),window.addEventListener("appinstalled",function(){Garter.SW.state="installed",Garter.game.updatePwaState("installed")})},PWA_SW.prototype.installAsPwa=function(){null!==Garter.SW.deferredPrompt?(Garter.SW.deferredPrompt.prompt(),Garter.SW.deferredPrompt.userChoice.then(function(e){Garter.SW.state=e.outcome,void 0!==Garter.game&&Garter.game.updatePwaState(e.outcome),Garter.SW.deferredPrompt=null}),Garter.SW.state="disabled",Garter.game.updatePwaState("disabled")):Garter.game.updatePwaState("rejected")},PWA_SW.prototype.promptMng=function(e){Garter.debugMode&&window.console.log("promptMng"),e.preventDefault(),Garter.SW.deferredPrompt=e,Garter.SW.state="enabled",void 0!==Garter.game&&2.1<Garter.game.sdkVer&&Garter.game.updatePwaState("enabled")},Gazerion.prototype.init=function(e){console.log("Azerion mode activated");var t=document,r="gamedistribution-jssdk",a=t.getElementsByTagName("script")[0];if(!t.getElementById(r)){(t=t.createElement("script")).id=r,t.src="https://html5.api.gamedistribution.com/main.min.js",a.parentNode.insertBefore(t,a);var o=null;switch(e){case 6264:o="a367b1f16ef74f43b897d55f05d45a81";break;case 7231:o="b57f6f0f9452410d8e0c7b998c2b29d4"}window.GD_OPTIONS={gameId:o,onEvent:function(e){switch(e.name){case"SDK_GAME_START":Garter.ads.setStatus("completed");break;case"SDK_GAME_PAUSE":Garter.ads.setStatus("loaded");break;case"SDK_GDPR_TRACKING":case"SDK_GDPR_TARGETING":Garter.azr.gdpr(!1)}}}}},Gazerion.prototype.gdpr=function(e){console.log("tracking rejected")},Gazerion.prototype.interstitialAd=function(){console.log("Azerion AD"),"undefined"!=typeof gdsdk&&"undefined"!==gdsdk.showAd&&gdsdk.showAd()},Gfacebook.prototype.initAdLibraries=function(){Garter.loadLibrary("js","lifeStreet","https://ads.lfstmedia.com/getad?site=301123")},Gfacebook.prototype.init=function(e){function t(){var e=document.getElementById("awagon_gdpr_box");null!==e&&(document.body.removeChild(e),window.gameLoadProcessor.asyncLoadReady({s:"PRIVACY",interactionRequired:!1}))}console.log("Facebook init |",e),t(),setTimeout(function(){t()},500);var r,a,o=document.createElement("div");o.setAttribute("id","fb-root"),document.body.append(o),window.fbAsyncInit=function(){function t(e){console.log("Facebook | onLogin",e),"connected"==e.status&&(Garter.fbl.authentized=!0,e=e.authResponse.accessToken,window.console.log("accessToken:",e),void 0!==Garter.game&&Garter.game.loaded&&Garter.game.initCallback())}FB.init({appId:e,cookie:!0,xfbml:!0,version:"v6.0"}),FB.getLoginStatus(function(e){console.log("Facenook | getLoginStatus | resp:",e,"authResponse:",e.authResponse),"connected"===e.status?t(e):FB.login(function(e){void 0!==e.email&&null!==e.email?t(e):(console.error("FB resp email rerequest: ",e),FB.login(function(e){window.console.log(e),t(e)},{scope:"email",auth_type:"rerequest"}))},{scope:"email"})})},r=document,a="facebook-jssdk",o=r.getElementsByTagName("script")[0],r.getElementById(a)||((r=r.createElement("script")).id=a,r.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(r,o))};var Garter=new GarterO;(new GarterCore).init(),window.onerror=function(e,t,r){window.console.log("ERROR| ",e,t,r);try{!navigator.cookieEnabled||!window.localStorage||sessionStorage.getItem("pg_reported")||(sessionStorage.setItem("pg_reported","1"),Garter.server.req({type:"GET",server:"https://www.pacogames.com/bug?game_id="+Garter.gameId+"&message="+e+"&browser="+(new GarterCore).browserDetection(),data:""},function(e,t){window.console.log(e,t)}),window.gtag("event","gameplayer-error",{event_category:Garter.gameId.toString(),event_label:Garter.hostName}))}catch(e){window.console.log(e)}};